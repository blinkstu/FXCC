require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/admin/orderDetail/index"],{"0bf5":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r("a34a")),o=r("a27d"),i=r("e056");function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,o,i,d){try{var u=e[i](d),l=u.value}catch(a){return void r(a)}u.done?t(l):Promise.resolve(l).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function d(e){u(i,n,o,d,l,"next",e)}function l(e){u(i,n,o,d,l,"throw",e)}d(void 0)}))}}var a=function(){r.e("pages/admin/components/PriceChange/index").then(function(){return resolve(r("0859"))}.bind(null,r)).catch(r.oe)},s={name:"AdminOrder",components:{PriceChange:a},props:{},data:function(){return{order:!1,change:!1,order_id:"",orderInfo:{_status:{}},status:"",title:"",payType:"",types:"",order_type:"",clickNum:1,goname:"",customForm:[]}},watch:{"$route.params.oid":function(e){var t=this;void 0!=e&&(t.order_id=e,t.getIndex())}},onShow:function(){this.getIndex()},onLoad:function(e){this.order_id=e.id,this.goname=e.goname,this.order_type=e.types},methods:{more:function(){this.order=!this.order},modify:function(e){this.change=!0,this.status=e},changeclose:function(e){this.change=e},getIndex:function(){var e=this,t=-3==this.order_type?o.getAdminRefundOrderDetail:o.getAdminOrderDetail;t(e.order_id).then((function(t){if(e.orderInfo=t.data,e.types=t.data._status._type,e.title=t.data._status._title,e.payType=t.data._status._payType,e.orderInfo.custom_form&&e.orderInfo.custom_form.length){var r=[];e.orderInfo.custom_form.map((function(e){""!=e.value&&r.push(e)})),e.$set(e,"customForm",r)}}),(function(e){}))},agreeExpress:function(e){var t=this;(0,o.agreeExpress)({id:e}).then((function(e){t.$util.Tips({title:e.msg}),t.init()})).catch((function(e){t.$util.Tips({title:e})}))},savePrice:function(e){var t=this;return l(n.default.mark((function r(){var d,u,l,a,s,f;return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(d=t,u={},l=e.price,a=e.refund_price,d.orderInfo.refund_status,s=e.remark,u.order_id=d.orderInfo.order_id,0!=d.status){r.next=9;break}if((0,i.isMoney)(l)){r.next=5;break}return r.abrupt("return",d.$util.Tips({title:d.$t("请输入正确的金额")}));case 5:u.price=l,(0,o.setAdminOrderPrice)(u).then((function(e){d.change=!1,d.$util.Tips({title:d.$t("改价成功"),icon:"success"},"/pages/admin/orderDetail/index?id="+e.data.order_id+"&types=0")}),(function(e){d.change=!1,d.$util.Tips({title:d.$t("改价失败"),icon:"none"})})),r.next=22;break;case 9:if(2!=d.status){r.next=17;break}if((0,i.isMoney)(a)){r.next=12;break}return r.abrupt("return",d.$util.Tips({title:d.$t("请输入正确的金额")}));case 12:u.price=a,u.type=e.type,(0,o.setOrderRefund)(u).then((function(e){d.change=!1,d.$util.Tips({title:e.msg}),d.getIndex()}),(function(e){d.change=!1,d.$util.Tips({title:e})})),r.next=22;break;case 17:if(s){r.next=19;break}return r.abrupt("return",d.$util.Tips({title:d.$t("请输入备注")}));case 19:u.remark=s,f=-3==d.order_type?(0,o.setAdminRefundRemark)(u):(0,o.setAdminOrderRemark)(u),f.then((function(e){d.change=!1,d.$util.Tips({title:e.msg,icon:"success"}),d.getIndex()}),(function(e){d.change=!1,d.$util.Tips({title:e})}));case 22:case"end":return r.stop()}}),r)})))()},offlinePay:function(){var e=this;(0,o.setOfflinePay)({order_id:this.orderInfo.order_id}).then((function(t){e.$util.Tips({title:t.msg,icon:"success"}),e.getIndex()}),(function(t){e.$util.Tips({title:t})}))},copyNum:function(t){e.setClipboardData({data:t,success:function(){}})}}};t.default=s}).call(this,r("543d")["default"])},2513:function(e,t,r){"use strict";var n;r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=(e._self._c,e.$t("订单")),n="looks"==e.goname||e.orderInfo.remark?null:e.$t("订单未备注，点击添加备注信息"),o=e.$t("复制"),i=e.$t("￥"),d=e.__map(e.orderInfo.cartInfo,(function(t,r){var n=e.__get_orig(t),o=t.productInfo.attrInfo?e.$t("￥"):null,i=t.productInfo.attrInfo?null:e.$t("￥");return{$orig:n,m4:o,m5:i}})),u=e.orderInfo.total_num?e.$t("共"):null,l=e.orderInfo.total_num?e.$t("件商品，应支付"):null,a=e.orderInfo.total_num?e.$t("￥"):null,s=e.orderInfo.total_num?e.$t("邮费"):null,f=e.orderInfo.total_num?e.$t("￥"):null,c=e.orderInfo.order_id?e.$t("订单编号"):null,p=e.orderInfo.order_id?e.$t("复制"):null,m=e.orderInfo.order_id?e.$t("下单时间"):null,_=e.orderInfo.order_id?e.$t("支付状态"):null,I=e.orderInfo.order_id&&1==e.orderInfo.paid?e.$t("已支付"):null,y=e.orderInfo.order_id&&1!=e.orderInfo.paid?e.$t("未支付"):null,$=e.orderInfo.order_id?e.$t("支付方式"):null,g=e.orderInfo.order_id?e.$t("买家留言"):null,v=e.$t("商品总价"),h=e.$t("￥"),b=(parseFloat(e.orderInfo.total_price)+parseFloat(e.orderInfo.vip_true_price)).toFixed(2),x=e.orderInfo.pay_postage>0?e.$t("配送运费"):null,k=e.orderInfo.pay_postage>0?e.$t("￥"):null,P=e.orderInfo.pay_postage>0?parseFloat(e.orderInfo.pay_postage).toFixed(2):null,F=e.orderInfo.levelPrice>0?e.$t("用户等级优惠"):null,T=e.orderInfo.levelPrice>0?e.$t("￥"):null,w=e.orderInfo.levelPrice>0?parseFloat(e.orderInfo.levelPrice).toFixed(2):null,O=e.orderInfo.memberPrice>0?e.$t("付费会员优惠"):null,A=e.orderInfo.memberPrice>0?e.$t("￥"):null,M=e.orderInfo.memberPrice>0?parseFloat(e.orderInfo.memberPrice).toFixed(2):null,D=e.orderInfo.coupon_price>0?e.$t("优惠券抵扣"):null,R=e.orderInfo.coupon_price>0?e.$t("￥"):null,N=e.orderInfo.coupon_price>0?parseFloat(e.orderInfo.coupon_price).toFixed(2):null,j=e.orderInfo.use_integral>0?e.$t("积分抵扣"):null,C=e.orderInfo.use_integral>0?e.$t("￥"):null,E=e.orderInfo.use_integral>0?parseFloat(e.orderInfo.deduction_price).toFixed(2):null,S=e.$t("实付款"),J=e.$t("￥"),L=parseFloat(e.orderInfo.pay_price).toFixed(2),U="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type?e.$t("配送方式"):null,q="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type&&"express"===e.orderInfo.delivery_type?e.$t("快递"):null,G="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type&&"send"===e.orderInfo.delivery_type?e.$t("送货"):null,z="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type&&"express"===e.orderInfo.delivery_type?e.$t("快递公司"):null,B="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type&&"send"===e.orderInfo.delivery_type?e.$t("送货人"):null,H="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type&&"express"===e.orderInfo.delivery_type?e.$t("快递单号"):null,K="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type&&"send"===e.orderInfo.delivery_type?e.$t("送货人电话"):null,Q="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type?e.$t("复制"):null,V="looks"!=e.goname&&0==e.types?e.$t("一键改价"):null,W="looks"!=e.goname&&-1==e.types&&1==e.orderInfo.refund_type?e.$t("立即退款"):null,X="looks"!=e.goname&&-1==e.types&&2==e.orderInfo.refund_type?e.$t("同意退货"):null,Y="looks"!=e.goname&&-1==e.types&&4==e.orderInfo.refund_type?e.$t("待用户发货"):null,Z="looks"!=e.goname?e.$t("订单备注"):null,ee="looks"!=e.goname&&"offline"===e.orderInfo.pay_type&&0===e.orderInfo.paid?e.$t("确认付款"):null,te="looks"==e.goname||1!=e.types||1!==e.orderInfo.shipping_type||null!==e.orderInfo.pinkStatus&&2!==e.orderInfo.pinkStatus?null:e.$t("去发货");e.$mp.data=Object.assign({},{$root:{m0:r,m1:n,m2:o,m3:i,l0:d,m6:u,m7:l,m8:a,m9:s,m10:f,m11:c,m12:p,m13:m,m14:_,m15:I,m16:y,m17:$,m18:g,m19:v,m20:h,g0:b,m21:x,m22:k,g1:P,m23:F,m24:T,g2:w,m25:O,m26:A,g3:M,m27:D,m28:R,g4:N,m29:j,m30:C,g5:E,m31:S,m32:J,g6:L,m33:U,m34:q,m35:G,m36:z,m37:B,m38:H,m39:K,m40:Q,m41:V,m42:W,m43:X,m44:Y,m45:Z,m46:ee,m47:te}})},i=[]},4049:function(e,t,r){"use strict";(function(e){r("248d");n(r("66fd"));var t=n(r("bcd8"));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=r,e(t.default)}).call(this,r("543d")["createPage"])},bcd8:function(e,t,r){"use strict";r.r(t);var n=r("2513"),o=r("f2ba");for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);r("f44f");var d,u=r("f0c5"),l=Object(u["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],d);t["default"]=l.exports},c090:function(e,t,r){},f2ba:function(e,t,r){"use strict";r.r(t);var n=r("0bf5"),o=r.n(n);for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},f44f:function(e,t,r){"use strict";var n=r("c090"),o=r.n(n);o.a}},[["4049","common/runtime","common/vendor"]]]);