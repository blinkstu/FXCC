require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/user_invoice_order/index"],{"0f76":function(e,t,o){"use strict";var n=o("d1d8"),r=o.n(n);r.a},3319:function(e,t,o){"use strict";var n=o("778c"),r=o.n(n);r.a},"3a05":function(e,t,o){"use strict";var n;o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return n}));var r=function(){var e=this,t=e.$createElement,o=(e._self._c,e.orderInfo&&e.orderInfo.invoice&&e.orderInfo.invoice.is_invoice?e.$t("已开票"):null),n=e.orderInfo&&e.orderInfo.invoice&&!e.orderInfo.invoice.is_invoice?e.$t("未开票"):null,r=e.orderInfo&&e.orderInfo.invoice?e.$t("发票类型"):null,i=e.orderInfo&&e.orderInfo.invoice&&1===e.orderInfo.invoice.type?e.$t("增值税电子普通发票"):null,s=e.orderInfo&&e.orderInfo.invoice&&1!==e.orderInfo.invoice.type?e.$t("增值税电子专用发票"):null,d=e.orderInfo&&e.orderInfo.invoice?e.$t("发票抬头"):null,u=e.orderInfo&&e.orderInfo.invoice&&e.orderInfo.invoice.duty_number?e.$t("税号"):null,a=e.orderInfo&&e.orderInfo.invoice?e.$t("手机号"):null,c=e.orderInfo&&e.orderInfo.invoice?e.$t("邮箱"):null,l=e.orderInfo&&e.orderInfo.invoice&&2===e.orderInfo.invoice.type?e.$t("开户银行"):null,f=e.orderInfo&&e.orderInfo.invoice&&2===e.orderInfo.invoice.type?e.$t("银行账号"):null,I=e.orderInfo&&e.orderInfo.invoice&&2===e.orderInfo.invoice.type?e.$t("企业地址"):null,m=e.orderInfo&&e.orderInfo.invoice&&2===e.orderInfo.invoice.type?e.$t("企业电话"):null,_=e.orderInfo&&e.orderInfo.invoice&&e.orderInfo.invoice.invoice_number?e.$t("发票编号"):null,v=e.orderInfo&&e.orderInfo.invoice&&e.orderInfo.invoice.remark?e.$t("发票备注"):null,p=e.$t("订单编号"),h=e.$t("复制"),y=e.$t("下单时间"),$=e.$t("支付状态"),g=e.orderInfo.paid?e.$t("已支付"):null,b=e.orderInfo.paid?null:e.$t("未支付"),x=e.$t("支付方式"),L=e.orderInfo.mark?e.$t("买家留言"):null,O=e.orderInfo.fictitious_content?e.$t("备注"):null,k=e.isGoodsReturn?e.$t("收货人"):null,T=e.isGoodsReturn?e.$t("联系电话"):null,w=e.isGoodsReturn?e.$t("收货地址"):null,P=0!=e.orderInfo.status&&"express"==e.orderInfo.delivery_type?e.$t("配送方式"):null,G=0!=e.orderInfo.status&&"express"==e.orderInfo.delivery_type?e.$t("发货"):null,C=0!=e.orderInfo.status&&"express"==e.orderInfo.delivery_type?e.$t("快递公司"):null,M=0!=e.orderInfo.status&&"express"==e.orderInfo.delivery_type?e.$t("快递号"):null,R=0!=e.orderInfo.status&&"express"!=e.orderInfo.delivery_type&&"send"==e.orderInfo.delivery_type?e.$t("配送方式"):null,S=0!=e.orderInfo.status&&"express"!=e.orderInfo.delivery_type&&"send"==e.orderInfo.delivery_type?e.$t("送货"):null,A=0!=e.orderInfo.status&&"express"!=e.orderInfo.delivery_type&&"send"==e.orderInfo.delivery_type?e.$t("配送人姓名"):null,D=0!=e.orderInfo.status&&"express"!=e.orderInfo.delivery_type&&"send"==e.orderInfo.delivery_type?e.$t("联系电话"):null,F=0!=e.orderInfo.status&&"express"!=e.orderInfo.delivery_type&&"send"==e.orderInfo.delivery_type?e.$t("dial"):null,N=0!=e.orderInfo.status&&"express"!=e.orderInfo.delivery_type&&"send"!=e.orderInfo.delivery_type&&"fictitious"==e.orderInfo.delivery_type?e.$t("虚拟发货"):null,j=0!=e.orderInfo.status&&"express"!=e.orderInfo.delivery_type&&"send"!=e.orderInfo.delivery_type&&"fictitious"==e.orderInfo.delivery_type?e.$t("已发货，请注意查收"):null,J=e.$t("支付金额"),z=e.$t("￥");e.$mp.data=Object.assign({},{$root:{m0:o,m1:n,m2:r,m3:i,m4:s,m5:d,m6:u,m7:a,m8:c,m9:l,m10:f,m11:I,m12:m,m13:_,m14:v,m15:p,m16:h,m17:y,m18:$,m19:g,m20:b,m21:x,m22:L,m23:O,m24:k,m25:T,m26:w,m27:P,m28:G,m29:C,m30:M,m31:R,m32:S,m33:A,m34:D,m35:F,m36:N,m37:j,m38:J,m39:z}})},i=[]},"3cb5":function(e,t,o){"use strict";o.r(t);var n=o("a3ca"),r=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=r.a},5522:function(e,t,o){"use strict";(function(e){o("248d");n(o("66fd"));var t=n(o("9516"));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=o,e(t.default)}).call(this,o("543d")["createPage"])},"778c":function(e,t,o){},9516:function(e,t,o){"use strict";o.r(t);var n=o("3a05"),r=o("3cb5");for(var i in r)"default"!==i&&function(e){o.d(t,e,(function(){return r[e]}))}(i);o("0f76"),o("3319");var s,d=o("f0c5"),u=Object(d["a"])(r["default"],n["b"],n["c"],!1,null,"2e1b146e",null,!1,n["a"],s);t["default"]=u.exports},a3ca:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o("451d"),r=o("f984"),i=(u(o("cf40")),o("666f")),s=o("26cb"),d=u(o("66ca"));function u(e){return e&&e.__esModule?e:{default:e}}var a=function(){Promise.all([o.e("common/vendor"),o.e("components/home/index")]).then(function(){return resolve(o("03ff"))}.bind(null,o)).catch(o.oe)},c=function(){Promise.all([o.e("common/vendor"),o.e("components/payment/index")]).then(function(){return resolve(o("b647"))}.bind(null,o)).catch(o.oe)},l=function(){o.e("components/orderGoods/index").then(function(){return resolve(o("7c5c"))}.bind(null,o)).catch(o.oe)},f=function(){o.e("components/Authorize").then(function(){return resolve(o("b29f"))}.bind(null,o)).catch(o.oe)},I={components:{payment:c,home:a,orderGoods:l,authorize:f},mixins:[d.default],data:function(){return{order_id:"",evaluate:0,cartInfo:[],orderInfo:{system_store:{},_status:{}},system_store:{},isGoodsReturn:!1,status:{},isClose:!1,pay_close:!1,pay_order_id:"",totalPrice:"0",isAuto:!1,isShowAuth:!1}},computed:(0,s.mapGetters)(["isLogin"]),onLoad:function(e){e.order_id&&this.$set(this,"order_id",e.order_id)},onShow:function(){this.isLogin?this.getOrderInfo():(0,i.toLogin)()},onHide:function(){this.isClose=!0},onReady:function(){},methods:{goGoodCall:function(){var t=this;e.navigateTo({url:"/pages/extension/customer_list/chat?orderId=".concat(t.order_id)})},openSubcribe:function(t){var o=t;e.showLoading({title:this.$t("正在加载中")}),(0,r.openOrderRefundSubscribe)().then((function(t){e.hideLoading(),e.navigateTo({url:o})})).catch((function(){e.hideLoading()}))},onChangeFun:function(e){var t=e,o=t.action||null,n=void 0!=t.value?t.value:null;o&&this[o]&&this[o](n)},makePhone:function(){e.makePhoneCall({phoneNumber:this.system_store.phone})},showMaoLocation:function(){if(!this.system_store.latitude||!this.system_store.longitude)return this.$util.Tips({title:this.$t("缺少经纬度信息无法查看地图！")});e.openLocation({latitude:parseFloat(this.system_store.latitude),longitude:parseFloat(this.system_store.longitude),scale:8,name:this.system_store.name,address:this.system_store.address+this.system_store.detailed_address,success:function(){}})},onLoadFun:function(){this.getOrderInfo()},getOrderInfo:function(){var t=this,o=this;e.showLoading({title:o.$t("正在加载中")}),(0,n.orderInvoiceDetail)(this.order_id).then((function(n){var r=n.data._status._type;e.hideLoading(),o.$set(o,"orderInfo",n.data),o.$set(o,"cartInfo",n.data.cartInfo),o.$set(o,"evaluate",3==r?3:0),o.$set(o,"system_store",n.data.system_store),0!=t.orderInfo.refund_status&&(t.isGoodsReturn=!0),o.getOrderStatus()})).catch((function(t){e.hideLoading(),o.$util.Tips({title:t})}))},copy:function(){e.setClipboardData({data:this.orderInfo.order_id})},goTel:function(){e.makePhoneCall({phoneNumber:this.orderInfo.delivery_id})},getOrderStatus:function(){var e=this.orderInfo||{},t=e._status||{_type:0},o={},n=parseInt(t._type),r=e.delivery_type,i=e.seckill_id?parseInt(e.seckill_id):0,s=e.bargain_id?parseInt(e.bargain_id):0,d=e.combination_id?parseInt(e.combination_id):0;o={type:9==n?-9:n,class_status:0},1==n&&d>0&&(o.class_status=1),2==n&&"express"==r&&(o.class_status=2),2==n&&(o.class_status=3),4!=n&&0!=n||(o.class_status=4),i||s||d||3!=n&&4!=n||(o.class_status=5),this.$set(this,"status",o)},goJoinPink:function(){e.navigateTo({url:"/pages/activity/goods_combination_status/index?id="+this.orderInfo.pink_id})},goOrderConfirm:function(){var t=this;(0,n.orderAgain)(t.orderInfo.order_id).then((function(t){return e.navigateTo({url:"/pages/goods/order_confirm/index?new=1&cartId="+t.data.cateId})}))},confirmOrder:function(){var t=this;e.showModal({title:this.$t("确认收货"),content:this.$t("为保障权益，请收到货确认无误后，再确认收货"),success:function(e){e.confirm&&(0,n.orderTake)(t.order_id).then((function(e){return t.$util.Tips({title:t.$t("操作成功"),icon:"success"},(function(){t.getOrderInfo()}))})).catch((function(e){return t.$util.Tips({title:e})}))}})},delOrder:function(){var e=this;(0,n.orderDel)(this.order_id).then((function(t){return e.$util.Tips({title:e.$t("删除成功"),icon:"success"},{tab:3,url:1})})).catch((function(t){return e.$util.Tips({title:t})}))},cancelOrder:function(){var t=this;e.showModal({title:that.$t("提示"),content:that.$t("确认取消该订单"),success:function(e){e.confirm?(0,n.orderCancel)(t.orderInfo.order_id).then((function(e){t.$util.Tips({title:e.msg},{tab:3})})).catch((function(){t.getDetail()})):e.cancel}})}}};t.default=I}).call(this,o("543d")["default"])},d1d8:function(e,t,o){}},[["5522","common/runtime","common/vendor"]]]);