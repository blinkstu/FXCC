(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-039cda3a"],{"0770":function(t,e,r){},"0a35":function(t,e,r){},"2ec3":function(t,e,r){},"31b4":function(t,e,r){"use strict";var n=r("f3f3"),a=r("9860"),i=(a=r.n(a),r("6b6c")),o=r("2f62");a={name:"edit",components:{formCreate:a.a.$form()},computed:Object(n.a)({},Object(o.d)("userLevel",["taskId","levelId"])),props:{FromData:{type:Object,default:null},update:{type:Boolean,default:!0}},data:function(){return{modals:!1,type:0,loading:!1,config:{global:{upload:{props:{onSuccess:function(t,e){200===t.status?e.url=t.data.src:this.Message.error(t.msg)}}}}}}},methods:{couponsType:function(){this.$parent.addType(this.type)},onSubmit:function(t){var e=this;this.loading||(this.loading=!0,Object(i.a)({url:this.FromData.action,method:this.FromData.method,data:t}).then((function(t){e.update&&e.$parent.getList(),e.$Message.success(t.msg),e.modals=!1,setTimeout((function(){e.$emit("submitFail"),e.loading=!1}),1e3)})).catch((function(t){e.loading=!1,e.$Message.error(t.msg)})))},cancel:function(){this.type=0}}},r("9646"),n=r("2877"),o=Object(n.a)(a,(function(){var t=this,e=t.$createElement;e=t._self._c||e;return t.FromData?e("div",[e("Modal",{attrs:{scrollable:"","footer-hide":"",closable:"",title:t.FromData.title,"z-index":1,width:"700"},on:{"on-cancel":t.cancel},model:{value:t.modals,callback:function(e){t.modals=e},expression:"modals"}},[["/marketing/coupon/save.html"===t.FromData.action?e("div",{staticClass:"radio acea-row row-middle"},[e("div",{staticClass:"name ivu-form-item-content"},[t._v("优惠券类型")]),e("Radio-group",{on:{"on-change":t.couponsType},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[e("Radio",{attrs:{label:0}},[t._v("通用券")]),e("Radio",{attrs:{label:1}},[t._v("品类券")]),e("Radio",{attrs:{label:2}},[t._v("商品券")])],1)],1):t._e()],e("form-create",{ref:"fc",staticClass:"formBox",attrs:{option:t.config,rule:Array.from(t.FromData.rules),handleIcon:"false"},on:{submit:t.onSubmit}})],2)],1):t._e()}),[],!1,null,"5cc97a38",null);e.a=o.exports},"3ba4":function(t,e,r){"use strict";var n=r("0a35");r.n(n).a},"3f2a":function(t,e,r){"use strict";r.d(e,"f",(function(){return a})),r.d(e,"c",(function(){return i})),r.d(e,"d",(function(){return o})),r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return c})),r.d(e,"e",(function(){return l})),r.d(e,"g",(function(){return u}));var n=r("6b6c");function a(t){return Object(n.a)({url:"/export/user_list",method:"get",params:t})}function i(t){return Object(n.a)({url:"/export/order_list",method:"get",params:t})}function o(t){return Object(n.a)({url:"/export/product_list",method:"get",params:t})}function s(t){return Object(n.a)({url:"/export/bargain_list",method:"get",params:t})}function c(t){return Object(n.a)({url:"/export/combination_list",method:"get",params:t})}function l(t){return Object(n.a)({url:"/export/seckill_list",method:"get",params:t})}function u(t){return Object(n.a)({url:"/export/member_card/".concat(t),method:"get"})}},4246:function(t,e,r){"use strict";var n=r("838e");r.n(n).a},"5c3ac":function(t,e,r){"use strict";r.r(e);var n=r("f3f3"),a=(r("a9e3"),r("d3b7"),r("159b"),r("a584")),i=(r("a4d3"),r("e01a"),r("d28b"),r("3ca3"),r("ddb0"),r("b636"),r("944a"),r("0c47"),r("23dc"),r("3410"),r("b0c0"),r("131a"),r("fb6a"),r("0122")),o=r("c964"),s=(r("d9e2"),r("8ba4"),r("ac1f"),r("00b4"),r("25f0"),r("e9c4"),r("99af"),r("a15b"),r("2f62")),c=r("f8b7"),l=r("3f2a");function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(e){l=function(t,e,r){return t[e]=r}}function d(t,e,r,a){var i,o,s,c;e=e&&e.prototype instanceof p?e:p,e=Object.create(e.prototype),a=new O(a||[]);return n(e,"_invoke",{value:(i=t,o=r,s=a,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return k()}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r&&(r=function t(e,r){var n=r.method,a=e.iterator[n];return void 0===a?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h):(n=f(a,e.iterator,r.arg),"throw"===n.type?(r.method="throw",r.arg=n.arg,r.delegate=null,h):(a=n.arg,a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)))}(r,s),r)){if(r===h)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing",r=f(i,o,s),"normal"===r.type){if(c=s.done?"completed":"suspendedYield",r.arg===h)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(c="completed",s.method="throw",s.arg=r.arg)}})}),e}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var h={};function p(){}function m(){}function g(){}a={};var v=(l(a,o,(function(){return this})),Object.getPrototypeOf),y=(v=v&&v(v(D([]))),v&&v!==e&&r.call(v,o)&&(a=v),g.prototype=p.prototype=Object.create(a));function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var a;n(this,"_invoke",{value:function(n,o){function s(){return new e((function(a,s){!function n(a,o,s,c){var l;a=f(t[a],t,o);if("throw"!==a.type)return(o=(l=a.arg).value)&&"object"==Object(i.a)(o)&&r.call(o,"__await")?e.resolve(o.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(o).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}));c(a.arg)}(n,o,a,s)}))}return a=a?a.then(s,s):s()}})}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function D(t){if(t){var e,n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(n=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:k}}function k(){return{value:void 0,done:!0}}return n(y,"constructor",{value:m.prototype=g,configurable:!0}),n(g,"constructor",{value:m,configurable:!0}),m.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){return t="function"==typeof t&&t.constructor,!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new w(d(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return o.type="throw",o.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}var o=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,a=this.tryEntries[e];if(a.tryLoc===t)return"throw"===(r=a.completion).type&&(n=r.arg,x(a)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:D(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}var d={name:"table_from",data:function(){return{fromList:{title:"选择时间",custom:!0,fromTxt:[{text:"全部",val:""},{text:"今天",val:"today"},{text:"昨天",val:"yesterday"},{text:"最近7天",val:"lately7"},{text:"最近30天",val:"lately30"},{text:"本月",val:"month"},{text:"本年",val:"year"}]},currentTab:"",grid:{xl:8,lg:8,md:8,sm:24,xs:24},orderData:{status:"",data:"",real_name:"",field_key:"all",pay_type:"",type:""},modalTitleSs:"",statusType:"",time:"",value2:[],writeOffRules:{code:[{validator:function(t,e,r){if(!e)return r(new Error("请填写核销码"));Number.isInteger(e)&&/\b\d{12}\b/.test(e)?r():r(new Error("请填写12位数字"))},trigger:"blur",required:!0}]},writeOffFrom:{code:"",confirm:0},modals2:!1,timeVal:[],options:{shortcuts:[{text:"今天",value:function(){var t=new Date,e=new Date;return e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())),[e,t]}},{text:"昨天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-1))),t.setTime(t.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())-1)),[e,t]}},{text:"最近7天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-6))),[e,t]}},{text:"最近30天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-29))),[e,t]}},{text:"本月",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),1))),[e,t]}},{text:"本年",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),0,1))),[e,t]}}]},payList:[{label:"全部",val:""},{label:"微信支付",val:"1"},{label:"支付宝支付",val:"4"},{label:"余额支付",val:"2"},{label:"线下支付",val:"3"}]}},computed:Object(n.a)(Object(n.a)({},Object(s.d)("order",["orderChartType","isDels","delIdList","orderType"])),{},{today:function(){var t=new Date,e=new Date;return[e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate(),t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()]}}),watch:{$route:function(){this.$route.fullPath===this.$routeProStr+"/order/list?status=1"&&this.getPath()}},created:function(){this.$route.fullPath===this.$routeProStr+"/order/list?status=1"&&this.getPath()},methods:Object(n.a)(Object(n.a)({},Object(s.c)("order",["getOrderStatus","getOrderType","getOrderTime","getOrderNum","getfieldKey"])),{},{getPath:function(){this.orderData.status=this.$route.query.status.toString(),this.getOrderStatus(this.orderData.status),this.$emit("getList",1)},changeModal:function(t){t||(this.writeOffFrom.code="")},exportList:function(){var t=this;return Object(o.a)(u().mark((function e(){var r,n,a,i,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.orderData.type=0===t.orderType?"":t.orderType,r=[],n=[],a=[],i="",(o=JSON.parse(JSON.stringify(t.orderData))).page=1,o.limit=200,o.ids=t.delIdList,s=0;case 7:if(s<o.page+1)return e.next=10,t.getExcelData(o);e.next=24;break;case 10:c=e.sent,i=i||c.filename,n.length||(n=c.fileKey),r.length||(r=c.header),c.export.length?(a=a.concat(c.export),o.page++,e.next=21):e.next=19;break;case 19:return t.$exportExcel(r,n,i,a),e.abrupt("return");case 21:s++,e.next=7;break;case 24:case"end":return e.stop()}}),e)})))()},getExcelData:function(t){return new Promise((function(e,r){Object(l.c)(t).then((function(t){e(t.data)}))}))},onchangeTime:function(t){this.timeVal=t,this.orderData.data=this.timeVal[0]?this.timeVal.join("-"):"",this.$store.dispatch("order/getOrderTabs",{data:this.orderData.data}),this.getOrderTime(this.orderData.data),this.$emit("getList",1)},selectChange:function(t){this.$store.dispatch("order/getOrderTabs",{data:t}),this.orderData.data=t,this.getOrderTime(this.orderData.data),this.timeVal=[],this.$emit("getList")},selectChange2:function(t){this.getOrderStatus(t),this.$emit("getList",1)},userSearchs:function(t){this.getOrderType(t),this.$emit("getList",1)},timeChange:function(t){this.getOrderTime(t),this.$emit("getList")},orderSearch:function(t){this.getOrderNum(t),this.getfieldKey(this.orderData.field_key),this.$emit("getList",1)},onClickTab:function(){this.$emit("onChangeType",this.currentTab)},delAll:function(){var t,e=this;0===this.delIdList.length?this.$Message.error("请先选择删除的订单！"):this.isDels?(t={ids:this.delIdList},this.$modalSure({title:"删除订单",url:"/order/dels",method:"post",ids:t}).then((function(t){e.$Message.success(t.msg),e.$emit("getList")})).catch((function(t){e.$Message.error(t.msg)}))):this.$Modal.error({title:"错误！",content:"<p>您选择的的订单存在用户未删除的订单，无法删除用户未删除的订单！</p>"})},writeOff:function(){this.modals2=!0},search:function(t){var e=this;this.$refs[t].validate((function(t){t?(e.writeOffFrom.confirm=0,Object(c.L)(e.writeOffFrom).then(function(){var t=Object(o.a)(u().mark((function t(r){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:200===r.status?e.$Message.success(r.msg):e.$Message.error(r.msg);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))):e.$Message.error("请填写正确的核销码")}))},ok:function(t){var e=this;this.writeOffFrom.code?(this.writeOffFrom.confirm=1,Object(c.L)(this.writeOffFrom).then(function(){var r=Object(o.a)(u().mark((function r(n){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:200===n.status?(e.$Message.success(n.msg),e.modals2=!1,e.$refs[t].resetFields(),e.$emit("getList",1)):e.$Message.error(n.msg);case 1:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))):this.$Message.warning("请先验证订单！")},del:function(t){this.modals2=!1,this.writeOffFrom.code="",this.$refs[t].resetFields()},handleSubmit:function(){this.$emit("on-submit",this.data)},Refresh:function(){this.$emit("getList")},handleReset:function(){this.$refs.form.resetFields(),this.$emit("on-reset")}})},f=(r("a311"),r("2877")),h=(d=Object(f.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"table_box"},[r("Form",{ref:"orderData",staticClass:"tabform",attrs:{model:t.orderData,"label-width":80,"label-position":"right"},nativeOn:{submit:function(t){t.preventDefault()}}},[r("Row",{attrs:{gutter:24,type:"flex",justify:"end"}},[r("Col",{staticClass:"ivu-text-left",attrs:{span:"24"}},[r("FormItem",{attrs:{label:"订单状态："}},[r("RadioGroup",{attrs:{type:"button"},on:{"on-change":function(e){return t.selectChange2(t.orderData.status)}},model:{value:t.orderData.status,callback:function(e){t.$set(t.orderData,"status",e)},expression:"orderData.status"}},[r("Radio",{attrs:{label:""}},[t._v("全部")]),r("Radio",{attrs:{label:"0"}},[t._v("未支付")]),r("Radio",{attrs:{label:"1"}},[t._v("未发货")]),r("Radio",{attrs:{label:"2"}},[t._v("待收货")]),r("Radio",{attrs:{label:"3"}},[t._v("待评价")]),r("Radio",{attrs:{label:"4"}},[t._v("交易完成")]),r("Radio",{attrs:{label:"5"}},[t._v("待核销")]),r("Radio",{attrs:{label:"6"}},[t._v("已核销")]),r("Radio",{attrs:{label:"-2"}},[t._v("已退款")]),r("Radio",{attrs:{label:"-4"}},[t._v("已删除")])],1)],1)],1),r("Col",{staticClass:"ivu-text-left",attrs:{span:"24"}},[r("FormItem",{attrs:{label:"支付方式："}},[r("RadioGroup",{attrs:{type:"button"},on:{"on-change":t.userSearchs},model:{value:t.orderData.pay_type,callback:function(e){t.$set(t.orderData,"pay_type",e)},expression:"orderData.pay_type"}},t._l(t.payList,(function(e){return r("Radio",{key:e.id,attrs:{label:e.val}},[t._v(t._s(e.label))])})),1)],1)],1),r("Col",{staticClass:"ivu-text-left",attrs:{span:"8"}},[r("FormItem",{attrs:{label:"创建时间："}},[r("DatePicker",{staticClass:"mr20",staticStyle:{width:"300px"},attrs:{editable:!1,value:t.timeVal,format:"yyyy/MM/dd HH:mm:ss",type:"datetimerange",placement:"bottom-start",placeholder:"请选择创建时间",options:t.options},on:{"on-change":t.onchangeTime}})],1)],1),r("Col",{attrs:{span:"16"}},[r("Col",{staticClass:"mr",attrs:{span:"12"}},[r("FormItem",{attrs:{label:"搜索：",prop:"real_name","label-for":"real_name"}},[r("Input",{attrs:{search:"","enter-button":"",placeholder:"请输入","element-id":"name"},on:{"on-search":function(e){return t.orderSearch(t.orderData.real_name)}},model:{value:t.orderData.real_name,callback:function(e){t.$set(t.orderData,"real_name",e)},expression:"orderData.real_name"}},[r("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.orderData.field_key,callback:function(e){t.$set(t.orderData,"field_key",e)},expression:"orderData.field_key"}},[r("Option",{attrs:{value:"all"}},[t._v("全部")]),r("Option",{attrs:{value:"order_id"}},[t._v("订单号")]),r("Option",{attrs:{value:"uid"}},[t._v("UID")]),r("Option",{attrs:{value:"real_name"}},[t._v("收件人姓名")]),r("Option",{attrs:{value:"user_phone"}},[t._v("收件人电话")]),r("Option",{attrs:{value:"title"}},[t._v("商品名称(模糊)")])],1)],1)],1)],1)],1),r("Col",{attrs:{span:"24"}},[r("div",{staticClass:"ml20"},[r("Button",{directives:[{name:"auth",rawName:"v-auth",value:["order-dels"],expression:"['order-dels']"}],staticClass:"mr10",attrs:{type:"primary"},on:{click:t.delAll}},[t._v("批量删除订单")]),r("Button",{directives:[{name:"auth",rawName:"v-auth",value:["order-write"],expression:"['order-write']"}],staticClass:"mr10 greens",attrs:{type:"success",size:"default"},on:{click:t.writeOff}},[r("Icon",{attrs:{type:"md-list"}}),t._v("\n            订单核销\n          ")],1),r("Button",{directives:[{name:"auth",rawName:"v-auth",value:["export-storeOrder"],expression:"['export-storeOrder']"}],staticClass:"export",attrs:{icon:"ios-share-outline"},on:{click:t.exportList}},[t._v("导出")])],1)])],1)],1),r("Modal",{staticClass:"paymentFooter",attrs:{title:"订单核销",closable:!1,width:"400"},on:{"on-visible-change":t.changeModal},model:{value:t.modals2,callback:function(e){t.modals2=e},expression:"modals2"}},[r("Form",{ref:"writeOffFrom",staticClass:"tabform",attrs:{model:t.writeOffFrom,rules:t.writeOffRules,"label-position":"right"},nativeOn:{submit:function(t){t.preventDefault()}}},[r("FormItem",{attrs:{prop:"code","label-for":"code"}},[r("Input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入12位核销码"},model:{value:t.writeOffFrom.code,callback:function(e){t.$set(t.writeOffFrom,"code",t._n(e))},expression:"writeOffFrom.code"}})],1)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary"},on:{click:function(e){return t.ok("writeOffFrom")}}},[t._v("立即核销")]),r("Button",{on:{click:function(e){return t.del("writeOffFrom")}}},[t._v("取消")])],1)],1)],1)}),[],!1,null,"19a14883",null).exports,r("d0ff")),p=(r("6062"),r("c740"),r("a464")),m=r("add5"),g=r.n(m),v=(m=r("31b4"),r("fc48")),y=r("61f8"),b=r("417c"),w=r("d616");function _(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(e){l=function(t,e,r){return t[e]=r}}function u(t,e,r,a){var i,o,s,c;e=e&&e.prototype instanceof h?e:h,e=Object.create(e.prototype),a=new O(a||[]);return n(e,"_invoke",{value:(i=t,o=r,s=a,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return k()}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r&&(r=function t(e,r){var n=r.method,a=e.iterator[n];return void 0===a?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f):(n=d(a,e.iterator,r.arg),"throw"===n.type?(r.method="throw",r.arg=n.arg,r.delegate=null,f):(a=n.arg,a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)))}(r,s),r)){if(r===f)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing",r=d(i,o,s),"normal"===r.type){if(c=s.done?"completed":"suspendedYield",r.arg===f)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(c="completed",s.method="throw",s.arg=r.arg)}})}),e}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function m(){}a={};var g=(l(a,o,(function(){return this})),Object.getPrototypeOf),v=(g=g&&g(g(D([]))),g&&g!==e&&r.call(g,o)&&(a=g),m.prototype=h.prototype=Object.create(a));function y(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var a;n(this,"_invoke",{value:function(n,o){function s(){return new e((function(a,s){!function n(a,o,s,c){var l;a=d(t[a],t,o);if("throw"!==a.type)return(o=(l=a.arg).value)&&"object"==Object(i.a)(o)&&r.call(o,"__await")?e.resolve(o.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(o).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}));c(a.arg)}(n,o,a,s)}))}return a=a?a.then(s,s):s()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function D(t){if(t){var e,n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(n=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:k}}function k(){return{value:void 0,done:!0}}return n(v,"constructor",{value:p.prototype=m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){return t="function"==typeof t&&t.constructor,!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),l(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new b(u(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},y(v),l(v,c,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return o.type="throw",o.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}var o=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,a=this.tryEntries[e];if(a.tryLoc===t)return"throw"===(r=a.completion).type&&(n=r.arg,x(a)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:D(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var x={name:"orderMark",data:function(){return{formValidate:{msg:""},modals:!1,ruleValidate:{msg:[{required:!0,message:"请输入备注信息",trigger:"blur"}]}}},props:{orderId:Number},methods:{cancel:function(t){this.modals=!1,this.$refs[t].resetFields()},putRemark:function(t){var e=this,r={msg:this.formValidate.msg};this.$refs[t].validate((function(n){n?Object(c.Q)(e.orderId,r).then(function(){var r=Object(o.a)(_().mark((function r(n){return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.$Message.success(n.msg),e.modals=!1,e.$refs[t].resetFields(),e.$emit("submitFail");case 4:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)})):e.$Message.warning("请填写备注信息")}))}}};x=Object(f.a)(x,(function(){var t=this,e=t.$createElement;e=t._self._c||e;return e("Modal",{staticClass:"order_box",attrs:{scrollable:"",title:"取消寄件",closable:!1},model:{value:t.modals,callback:function(e){t.modals=e},expression:"modals"}},[e("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":80},nativeOn:{submit:function(t){t.preventDefault()}}},[e("FormItem",{attrs:{label:"备注：",prop:"msg"}},[e("Input",{staticStyle:{width:"100%"},attrs:{maxlength:200,"show-word-limit":"",type:"textarea",placeholder:"取消寄件备注"},model:{value:t.formValidate.msg,callback:function(e){t.$set(t.formValidate,"msg",e)},expression:"formValidate.msg"}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"primary"},on:{click:function(e){return t.putRemark("formValidate")}}},[t._v("提交")]),e("Button",{on:{click:function(e){return t.cancel("formValidate")}}},[t._v("取消")])],1)],1)}),[],!1,null,"31a98dbb",null).exports;function O(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */O=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(e){l=function(t,e,r){return t[e]=r}}function u(t,e,r,a){var i,o,s,c;e=e&&e.prototype instanceof h?e:h,e=Object.create(e.prototype),a=new x(a||[]);return n(e,"_invoke",{value:(i=t,o=r,s=a,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return k()}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r&&(r=function t(e,r){var n=r.method,a=e.iterator[n];return void 0===a?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f):(n=d(a,e.iterator,r.arg),"throw"===n.type?(r.method="throw",r.arg=n.arg,r.delegate=null,f):(a=n.arg,a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)))}(r,s),r)){if(r===f)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing",r=d(i,o,s),"normal"===r.type){if(c=s.done?"completed":"suspendedYield",r.arg===f)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(c="completed",s.method="throw",s.arg=r.arg)}})}),e}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function m(){}a={};var g=(l(a,o,(function(){return this})),Object.getPrototypeOf),v=(g=g&&g(g(D([]))),g&&g!==e&&r.call(g,o)&&(a=g),m.prototype=h.prototype=Object.create(a));function y(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var a;n(this,"_invoke",{value:function(n,o){function s(){return new e((function(a,s){!function n(a,o,s,c){var l;a=d(t[a],t,o);if("throw"!==a.type)return(o=(l=a.arg).value)&&"object"==Object(i.a)(o)&&r.call(o,"__await")?e.resolve(o.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(o).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}));c(a.arg)}(n,o,a,s)}))}return a=a?a.then(s,s):s()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function D(t){if(t){var e,n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(n=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:k}}function k(){return{value:void 0,done:!0}}return n(v,"constructor",{value:p.prototype=m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){return t="function"==typeof t&&t.constructor,!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),l(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new b(u(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},y(v),l(v,c,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=D,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return o.type="throw",o.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}var o=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,a=this.tryEntries[e];if(a.tryLoc===t)return"throw"===(r=a.completion).type&&(n=r.arg,_(a)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:D(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}m={name:"table_list",components:{expandRow:p.a,editFrom:m.a,detailsFrom:v.a,orderRemark:y.a,orderRecord:b.a,orderSend:w.a,orderShipment:x},data:function(){return{delfromData:{},modal:!1,orderList:[],orderCards:[],loading:!1,orderId:0,total_num:0,virtual_type:0,status:0,pay_type:"",columns:[{type:"expand",width:30,render:function(t,e){return t(p.a,{props:{row:e.row}})}},{type:"selection",width:40,align:"center"},{title:"订单号 | 类型",align:"center",slot:"order_id",width:200},{title:"用户昵称 | ID",slot:"nickname",align:"center",width:150},{title:"商品信息",slot:"info",minWidth:330},{title:"实际支付",slot:"pay_price",align:"center",width:100},{title:"支付方式",key:"pay_type_name",width:80},{title:"支付时间",key:"_pay_time",align:"center",minWidth:75,maxWidth:160},{title:"订单状态",key:"statusName",slot:"statusName",align:"center",width:100},{title:"操作",slot:"action",fixed:"right",width:170,align:"center"}],page:{total:0,pageNum:1,pageSize:10},data:[],FromData:null,orderDatalist:null,selectedIds:new Set}},computed:Object(n.a)({},Object(s.d)("order",["orderPayType","orderStatus","orderTime","orderNum","fieldKey","orderType"])),mounted:function(){},created:function(){this.getList()},watch:{orderType:function(){this.page.pageNum=1,this.getList()}},methods:Object(n.a)(Object(n.a)({},Object(s.c)("order",["getIsDel","getisDelIdListl"])),{},{changeMenu:function(t,e){var r=this;switch(this.orderId=t.id,e){case"1":this.delfromData={title:"修改立即支付",url:"/order/pay_offline/".concat(t.id),method:"post",ids:""},this.$modalSure(this.delfromData).then((function(t){r.$Message.success(t.msg),r.$emit("changeGetTabs"),r.getList()})).catch((function(t){r.$Message.error(t.msg)}));break;case"2":this.getData(t.id);break;case"3":this.$refs.record.modals=!0,this.$refs.record.getList(t.id);break;case"4":this.$refs.remarks.modals=!0,this.$refs.remarks.formValidate.remark=t.remark;break;case"5":this.getRefundData(t.id);break;case"6":this.getRefundIntegral(t.id);break;case"7":this.getNoRefundData(t.id);break;case"8":this.delfromData={title:"修改确认收货",url:"/order/take/".concat(t.id),method:"put",ids:""},this.$modalSure(this.delfromData).then((function(t){r.$Message.success(t.msg),r.getList()})).catch((function(t){r.$Message.error(t.msg)}));break;case"10":this.delfromData={title:"立即打印订单",info:"您确认打印此订单吗?",url:"/order/print/".concat(t.id),method:"get",ids:""},this.$modalSure(this.delfromData).then((function(t){r.$Message.success(t.msg),r.$emit("changeGetTabs"),r.getList()})).catch((function(t){r.$Message.error(t.msg)}));break;case"11":this.delfromData={title:"立即打印电子面单",info:"您确认打印此电子面单吗?",url:"/order/order_dump/".concat(t.id),method:"get",ids:""},this.$modalSure(this.delfromData).then((function(t){r.$Message.success(t.msg),r.getList()})).catch((function(t){r.$Message.error(t.msg)}));break;case"12":this.printImg(t.kuaidi_label);break;default:this.delfromData={title:"删除订单",url:"/order/del/".concat(t.id),method:"DELETE",ids:""},this.delOrder(t,this.delfromData)}},shipmentClear:function(t){this.orderId=t.id,this.$refs.shipment.modals=!0},printImg:function(t){g()({printable:t,type:"image",documentTitle:"快递信息",style:"img{\n          width: 100%;\n          height: 476px;\n        }"})},submitModel:function(){this.getList()},pageChange:function(t){this.page.pageNum=t,this.getList()},limitChange:function(t){this.page.pageSize=t,this.getList()},getList:function(t){var e=this;this.page.pageNum=1===t?1:this.page.pageNum,this.loading=!0,Object(c.B)({page:this.page.pageNum,limit:this.page.pageSize,status:this.orderStatus,pay_type:this.orderPayType,data:this.orderTime,real_name:this.orderNum,field_key:this.fieldKey,type:0===this.orderType?"":this.orderType}).then(function(){var t=Object(o.a)(O().mark((function t(r){var n;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.data,e.orderList=n.data,e.orderCards=n.stat,e.page.total=n.count,e.$nextTick((function(){e.setChecked()})),e.$emit("on-changeCards",n.stat),e.loading=!1;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.loading=!1,e.$Message.error(t.msg)}))},handleSelectAll:function(t){var e=this;0===t.length?this.$refs.table.data.forEach((function(t){e.selectedIds.has(t.id)&&e.selectedIds.delete(t.id)})):t.forEach((function(t){e.selectedIds.add(t.id)})),this.isDel(t),this.$nextTick((function(){e.setChecked()}))},handleSelectRow:function(t,e){var r=this;this.isDel(t),this.selectedIds.add(e.id),this.$nextTick((function(){r.setChecked()}))},handleCancelRow:function(t,e){var r=this;this.isDel(t),this.selectedIds.delete(e.id),this.$nextTick((function(){r.setChecked()}))},setChecked:function(){var t,e=Object(h.a)(this.selectedIds),r=(this.getisDelIdListl(e),this.$refs.table.objData);for(t in r)this.selectedIds.has(r[t].id)&&(r[t]._isChecked=!0)},isDel:function(t){-1==t.findIndex((function(t){return 0===t.is_del}))?this.getIsDel(1):this.getIsDel(0)},edit:function(t){this.getOrderData(t.id)},delOrder:function(t,e){var r=this;1===t.is_del?this.$modalSure(e).then((function(t){r.$Message.success(t.msg),r.getList()})).catch((function(t){r.$Message.error(t.msg)})):this.$Modal.error({title:"错误！",content:"<p>您选择的的订单存在用户未删除的订单，无法删除用户未删除的订单！</p>"})},splitOrderDetail:function(t){this.$router.push({path:"split_list",query:{id:t.id}})},getOrderData:function(t){var e=this;Object(c.l)(t).then(function(){var t=Object(o.a)(O().mark((function t(r){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.FromData=r.data,e.$refs.edits.modals=!0;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},getData:function(t){var e=this;Object(c.e)(t).then(function(){var t=Object(o.a)(O().mark((function t(r){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.details.modals=!0,e.orderDatalist=r.data,e.orderDatalist.orderInfo.refund_reason_wap_img)try{e.orderDatalist.orderInfo.refund_reason_wap_img=JSON.parse(e.orderDatalist.orderInfo.refund_reason_wap_img)}catch(t){e.orderDatalist.orderInfo.refund_reason_wap_img=[]}case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},submitFail:function(){this.getList(),this.$emit("changeGetTabs")},getRefundData:function(t){var e=this;this.$modalForm(Object(c.o)(t)).then((function(){e.getList(),e.$emit("changeGetTabs")}))},getRefundIntegral:function(t){var e=this;Object(c.P)(t).then(function(){var t=Object(o.a)(O().mark((function t(r){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.FromData=r.data,e.$refs.edits.modals=!0;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},getNoRefundData:function(t){var e=this;this.$modalForm(Object(c.p)(t)).then((function(){e.getList(),e.$emit("changeGetTabs")}))},sendOrder:function(t){var e=this;this.$refs.send.total_num=t.total_num,this.virtual_type=t.virtual_type,this.$refs.send.modals=!0,this.orderId=t.id,this.status=t._status,this.pay_type=t.pay_type,this.$refs.send.getList(),this.$refs.send.getDeliveryList(),this.$nextTick((function(r){e.$refs.send.getCartInfo(t._status,t.id)}))},delivery:function(t){var e=this;Object(c.g)(t.id).then(function(){var t=Object(o.a)(O().mark((function t(r){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.FromData=r.data,e.$refs.edits.modals=!0;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},change:function(t){},exportData:function(){this.$refs.table.exportCsv({filename:"商品列表"})},bindWrite:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确定要核销该订单吗？",cancelText:"取消",closable:!0,maskClosable:!0,onOk:function(){Object(c.W)(t.order_id).then((function(t){e.$Message.success(t.msg),e.getList()})).catch((function(t){e.$Message.error(t.msg)}))}})}})},r("7757"),v={name:"orderlistDetails",components:{tableForm:d,tableList:Object(f.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Table",{ref:"table",staticClass:"orderData mt25",attrs:{columns:t.columns,data:t.orderList,loading:t.loading,"highlight-row":"","no-data-text":"暂无数据","no-filtered-data-text":"暂无筛选结果"},on:{"on-select":t.handleSelectRow,"on-select-cancel":t.handleCancelRow,"on-select-all":t.handleSelectAll,"on-select-all-cancel":t.handleSelectAll},scopedSlots:t._u([{key:"order_id",fn:function(e){var n=e.row;return e.index,[r("div",[t._v(t._s(n.order_id))]),r("div",{staticClass:"pink_name"},[t._v(t._s(n.pink_name))]),r("span",{directives:[{name:"show",rawName:"v-show",value:1===n.is_del,expression:"row.is_del === 1"}],staticStyle:{color:"#ed4014",display:"block"}},[t._v("用户已删除")])]}},{key:"nickname",fn:function(e){var n=e.row;return e.index,[r("span",{staticClass:"nickname"},[t._v(t._s(n.nickname))]),t._v(" |\n      "),r("span",{staticClass:"uid"},[t._v(t._s(n.uid))])]}},{key:"pay_price",fn:function(e){var n=e.row;return e.index,[r("span",[t._v(t._s(n.paid?n.pay_price:"未支付"))])]}},{key:"info",fn:function(e){var n=e.row;return e.index,t._l(n._info,(function(e,n){return r("div",{key:n,staticClass:"tabBox"},[r("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"tabBox_img"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:(e.cart_info.productInfo.attrInfo||e.cart_info.productInfo).image,expression:"\n              val.cart_info.productInfo.attrInfo\n                ? val.cart_info.productInfo.attrInfo.image\n                : val.cart_info.productInfo.image\n            "}]})]),r("span",{staticClass:"tabBox_tit"},[t._v(t._s(e.cart_info.productInfo.store_name+" | ")+t._s(e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.suk:""))]),r("span",{staticClass:"tabBox_pice"},[t._v(t._s("￥"+e.cart_info.truePrice+" x "+e.cart_info.cart_num))])])}))}},{key:"statusName",fn:function(e){var n=e.row;return e.index,[r("div",{staticClass:"pt5",domProps:{innerHTML:t._s(n.status_name.status_name)}}),!n.is_all_refund&&n.refund.length?r("div",{staticClass:"trip"},[t._v("部分退款中")]):t._e(),0==n.refund_status&&n.is_all_refund&&n.refund.length&&6!=n.refund_type?r("div",{staticClass:"trip"},[t._v("\n        退款中\n      ")]):t._e(),r("div",{staticClass:"img"},t._l(n.status_name.pics||[],(function(e,a){return n.status_name.pics?r("div",{directives:[{name:"viewer",rawName:"v-viewer"}],key:a,staticClass:"pictrue"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"item"}],attrs:{src:e}})]):t._e()})),0)]}},{key:"action",fn:function(e){var n=e.row;return e.index,[1===n._status&&1!==n.is_del?r("a",{on:{click:function(e){return t.edit(n)}}},[t._v("编辑")]):t._e(),4!==n.status&&2!==n._status&&8!==n._status||1!==n.shipping_type||null!==n.pinkStatus&&2!==n.pinkStatus||1===n.is_del||n.is_stock_up?n.is_stock_up?r("a",{on:{click:function(e){return t.shipmentClear(n)}}},[t._v("取消商家寄件")]):t._e():r("a",{on:{click:function(e){return t.sendOrder(n)}}},[t._v("发送货")]),4!==n._status||n.split.length?t._e():r("a",{on:{click:function(e){return t.delivery(n)}}},[t._v("配送信息")]),2==n.shipping_type&&0==n.status&&1==n.paid&&0===n.refund_status?r("a",{on:{click:function(e){return t.bindWrite(n)}}},[t._v("立即核销")]):t._e(),8!==n._status&&0!==n.status&&4!==n.status||!n.split.length||1===n.is_del?t._e():r("Divider",{attrs:{type:"vertical"}}),n.split.length&&1!==n.is_del?r("a",{on:{click:function(e){return t.splitOrderDetail(n)}}},[t._v("查看子订单")]):t._e(),2===n._status&&1===n.shipping_type&&2===n.pinkStatus||n.split.length&&1!==n.is_del?r("Divider",{attrs:{type:"vertical"}}):t._e(),4!==n.refund_type&&5!==n.refund_type&&(1===n._status||3===n._status||2===n._status&&!n.pinkStatus||4===n._status||2==n.shipping_type&&0==n.status&&1==n.paid&&0===n.refund_status)&&1!==n.is_del?r("Divider",{attrs:{type:"vertical"}}):t._e(),[r("Dropdown",{attrs:{transfer:!0},on:{"on-click":function(e){return t.changeMenu(n,e)}}},[r("a",{attrs:{href:"javascript:void(0)"}},[t._v("更多\n            "),r("Icon",{attrs:{type:"ios-arrow-down"}})],1),r("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[r("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:1===n._status&&0===n.paid&&"offline"===n.pay_type&&1!==n.is_del,expression:"row._status === 1 && row.paid === 0 && row.pay_type === 'offline' && row.is_del !== 1"}],ref:"ones",attrs:{name:"1"}},[t._v("确认付款")]),r("DropdownItem",{attrs:{name:"2"}},[t._v("订单详情")]),r("DropdownItem",{attrs:{name:"3"}},[t._v("订单记录")]),r("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:3<=n._status&&n.express_dump,expression:"row._status >= 3 && row.express_dump"}],attrs:{name:"11"}},[t._v("电子面单打印")]),r("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:2<=n._status,expression:"row._status >= 2"}],attrs:{name:"10"}},[t._v("小票打印")]),r("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:1!==n._status||3===n._status&&0<n.use_integral&&n.use_integral>=n.back_integral,expression:"\n                row._status !== 1 ||\n                (row._status === 3 && row.use_integral > 0 && row.use_integral >= row.back_integral)\n              "}],attrs:{name:"4"}},[t._v("订单备注")]),r("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:4===n._status,expression:"row._status === 4"}],attrs:{name:"8"}},[t._v("已收货")]),r("DropdownItem",{attrs:{name:"9"}},[t._v("删除订单")]),r("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:n.kuaidi_label,expression:"row.kuaidi_label"}],attrs:{name:"12"}},[t._v("快递面单打印")])],1)],1)]]}}])}),r("div",{staticClass:"acea-row row-right page"},[r("Page",{attrs:{total:t.page.total,current:t.page.pageNum,"show-elevator":"","show-total":"","page-size":t.page.pageSize},on:{"on-change":t.pageChange,"on-page-size-change":t.limitChange}})],1),r("edit-from",{ref:"edits",attrs:{FromData:t.FromData},on:{submitFail:t.submitFail}}),r("details-from",{ref:"details",attrs:{orderDatalist:t.orderDatalist,orderId:t.orderId}}),r("order-remark",{ref:"remarks",attrs:{orderId:t.orderId},on:{submitFail:t.submitFail}}),r("order-shipment",{ref:"shipment",attrs:{orderId:t.orderId},on:{submitFail:t.submitFail}}),r("order-record",{ref:"record"}),r("order-send",{ref:"send",attrs:{orderId:t.orderId,status:t.status,pay_type:t.pay_type,virtual_type:t.virtual_type},on:{submitFail:t.submitFail,clearId:function(){t.orderId=0,t.virtual_type=null}}})],1)}),[],!1,null,"8b69f948",null).exports,cardsData:a.a},data:function(){return{currentTab:"",cardLists:[]}},methods:{changeGetTabs:function(){this.$parent.getTabs()},getData:function(t){this.$refs.table.getList(t)},getCards:function(t){this.cardLists=t},handleResize:function(){this.$refs.ellipsis.forEach((function(t){return t.init()}))}},mounted:function(){}},r("3ba4"),y={name:"list",components:{productlistDetails:Object(f.a)(v,(function(){var t=this,e=t.$createElement;e=t._self._c||e;return e("div",[e("table-form",{on:{getList:t.getData}}),e("table-list",{ref:"table",on:{"on-changeCards":t.getCards,changeGetTabs:t.changeGetTabs}})],1)}),[],!1,null,"2169d6ee",null).exports},data:function(){var t=this;return{tabs:[{type:"",label:function(e){return e("div",[e("span","全部订单"),e("Badge",{props:{count:Number(t.tablists.all),"overflow-count":999999}})])}},{type:"1",label:function(e){return e("div",[e("span","普通订单"),e("Badge",{props:{count:Number(t.tablists.general),"overflow-count":999999}})])}},{type:"2",label:function(e){return e("div",[e("span","拼团订单"),e("Badge",{props:{count:Number(t.tablists.pink),"overflow-count":999999}})])}},{type:"3",label:function(e){return e("div",[e("span","秒杀订单"),e("Badge",{props:{count:Number(t.tablists.seckill),"overflow-count":999999}})])}},{type:"4",label:function(e){return e("div",[e("span","砍价订单"),e("Badge",{props:{count:Number(t.tablists.bargain),"overflow-count":999999}})])}},{type:"5",label:function(e){return e("div",[e("span","预售订单"),e("Badge",{props:{count:Number(t.tablists.advance),"overflow-count":999999}})])}}],spinShow:!1,currentTab:"",data:[],tablists:null}},created:function(){this.getOrderType(""),this.getOrderStatus(""),this.getOrderTime(""),this.getOrderNum(""),this.getfieldKey(""),this.onChangeTabs(""),this.getisDelIdListl(""),this.getIsDel(1)},beforeDestroy:function(){this.getOrderType(""),this.getOrderStatus(""),this.getOrderTime(""),this.getOrderNum(""),this.getfieldKey(""),this.onChangeTabs(""),this.getisDelIdListl(""),this.getIsDel(1)},mounted:function(){this.getTabs()},methods:Object(n.a)(Object(n.a)({},Object(s.c)("order",["onChangeTabs","getOrderStatus","getOrderTime","getOrderNum","getfieldKey","getOrderType","getisDelIdListl","getIsDel"])),{},{getTabs:function(){var t=this;this.spinShow=!0,this.$store.dispatch("order/getOrderTabs",{data:""}).then((function(e){t.tablists=e.data,t.spinShow=!1})).catch((function(e){t.spinShow=!1,t.$Message.error(e.msg)}))},onClickTab:function(){this.onChangeTabs(Number(this.currentTab)),this.$store.dispatch("order/getOrderTabs",{type:this.currentTab})}})},r("4246"),b=Object(f.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Card",{attrs:{bordered:!1,"dis-hover":""}},[t.tablists?r("Tabs",{staticClass:"mb20",on:{"on-click":t.onClickTab},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.tabs,(function(t,e){return r("TabPane",{key:e,attrs:{label:t.label,name:t.type}})})),1):t._e(),(t.currentTab,r("productlist-details",{ref:"productlist"})),t.spinShow?r("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)],1)}),[],!1,null,"5f68f28b",null),e.default=b.exports},7443:function(t,e,r){"use strict";var n=r("b627");r.n(n).a},7757:function(t,e,r){"use strict";var n=r("0770");r.n(n).a},"838e":function(t,e,r){},"8ba4":function(t,e,r){r("23e7")({target:"Number",stat:!0},{isInteger:r("eac5")})},"94ab":function(t,e,r){},9646:function(t,e,r){"use strict";var n=r("2ec3");r.n(n).a},a311:function(t,e,r){"use strict";var n=r("94ab");r.n(n).a},a584:function(t,e,r){"use strict";var n={name:"cards",data:function(){return{}},props:{cardLists:Array},methods:{},created:function(){}};r("7443"),r=r("2877"),r=Object(r.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Row",{staticClass:"ivu-mt",attrs:{type:"flex",align:"middle",gutter:10}},t._l(t.cardLists,(function(e,n){return r("Col",{key:n,staticClass:"ivu-mb",attrs:{xl:e.col,lg:6,md:12,sm:24,xs:24}},[r("Card",{staticClass:"card_cent",attrs:{shadow:"",padding:0}},[r("div",{staticClass:"card_box"},[r("div",{staticClass:"card_box_cir",class:{one:n%5==0,two:n%5==1,three:n%5==2,four:n%5==3,five:n%5==4}},[r("div",{staticClass:"card_box_cir1",class:{one1:n%5==0,two1:n%5==1,three1:n%5==2,four1:n%5==3,five1:n%5==4}},[r("Icon",{attrs:{type:e.className}})],1)]),r("div",{staticClass:"card_box_txt"},[r("span",{staticClass:"sp1",domProps:{textContent:t._s(e.count||0)}}),r("span",{staticClass:"sp2",domProps:{textContent:t._s(e.name)}})])])])],1)})),1)],1)}),[],!1,null,"e3e38522",null);e.a=r.exports},b627:function(t,e,r){}}]);