(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-271052a9"],{8404:function(t,e,a){"use strict";a.r(e);var i=a("f3f3"),s=(a("a434"),a("2f62")),n=a("90e7");i={name:"setting_staff",components:{},computed:Object(i.a)(Object(i.a)(Object(i.a)({},Object(s.d)("media",["isMobile"])),Object(s.d)("userLevel",["categoryId"])),{},{labelWidth:function(){return this.isMobile?void 0:85},labelPosition:function(){return this.isMobile?"top":"right"}}),data:function(){return{grid:{xl:10,lg:10,md:12,sm:24,xs:24},artFrom:{page:1,limit:15,store_id:0},loading:!1,columns:[{title:"ID",key:"id",width:80,sortable:!0},{title:"微信名称",key:"nickname",minWidth:100},{title:"头像",slot:"avatar",minWidth:100},{title:"核销员名称",key:"staff_name",minWidth:100},{title:"所属提货点",key:"name",minWidth:100},{title:"添加时间",key:"add_time",minWidth:100},{title:"状态",slot:"status",minWidth:100},{title:"操作",slot:"action",fixed:"right",minWidth:120}],storeLists:[],storeSelectList:[],total:0}},mounted:function(){this.getList(),this.storeList()},methods:{storeList:function(){var t=this;Object(n.V)().then((function(e){t.storeSelectList=e.data}))},getList:function(){var t=this,e=this;e.loading=!0,Object(n.Ib)(e.artFrom).then((function(t){e.loading=!1,e.storeLists=t.data.list,e.total=t.data.count})).catch((function(e){t.$Message.error(e.msg)}))},userSearchs:function(){this.artFrom.page=1,this.getList()},pageChange:function(t){this.artFrom.page=t,this.getList()},del:function(t,e,a){var i=this;e={title:e,num:a,url:"merchant/store_staff/del/".concat(t.id),method:"DELETE",ids:""};this.$modalSure(e).then((function(t){i.$Message.success(t.msg),i.storeLists.splice(a,1)})).catch((function(t){i.$Message.error(t.msg)}))},add:function(){var t=this;this.$modalForm(Object(n.Jb)(0)).then((function(){return t.getList()}))},onchangeIsShow:function(t,e){var a=this;Object(n.Lb)(t,e).then((function(t){a.$Message.success(t.msg),a.getList()}))},edit:function(t){var e=this;this.$modalForm(Object(n.Kb)(t)).then((function(){return e.getList()}))}}},a("98cc"),s=a("2877"),a=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[a("Form",{ref:"artFrom",attrs:{model:t.artFrom,"label-width":t.labelWidth,"label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[a("Row",{attrs:{type:"flex",gutter:24}},[a("Col",t._b({staticClass:"mr"},"Col",t.grid,!1),[a("FormItem",{attrs:{label:"提货点名称：","label-for":"store_name"}},[a("Select",{attrs:{"element-id":"store_id",clearable:""},on:{"on-change":t.userSearchs},model:{value:t.artFrom.store_id,callback:function(e){t.$set(t.artFrom,"store_id",e)},expression:"artFrom.store_id"}},t._l(t.storeSelectList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1)],1)],1),a("Row",{attrs:{type:"flex"}},[a("Col",t._b({},"Col",t.grid,!1),[a("Button",{directives:[{name:"auth",rawName:"v-auth",value:["merchant-store_staff-create"],expression:"['merchant-store_staff-create']"}],attrs:{type:"primary",icon:"md-add"},on:{click:t.add}},[t._v("添加核销员")])],1)],1),a("Table",{ref:"table",staticClass:"mt25",attrs:{columns:t.columns,data:t.storeLists,loading:t.loading,"highlight-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"},scopedSlots:t._u([{key:"avatar",fn:function(t){var e=t.row;return t.index,[a("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"tabBox_img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"row.avatar"}]})])]}},{key:"status",fn:function(e){var i=e.row;return e.index,[a("i-switch",{attrs:{value:i.status,"true-value":1,"false-value":0,size:"large"},on:{"on-change":function(e){return t.onchangeIsShow(i.id,i.status)}},model:{value:i.status,callback:function(e){t.$set(i,"status",e)},expression:"row.status"}},[t._v(">\n          "),a("span",{attrs:{slot:"open"},slot:"open"},[t._v("显示")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("隐藏")])])]}},{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("a",{on:{click:function(e){return t.edit(i.id)}}},[t._v("编辑")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(e){return t.del(i,"删除核销员",s)}}},[t._v("删除")])]}}])}),a("div",{staticClass:"acea-row row-right page"},[a("Page",{attrs:{total:t.total,current:t.artFrom.page,"show-elevator":"","show-total":"","page-size":t.artFrom.limit},on:{"on-change":t.pageChange}})],1)],1)],1)}),[],!1,null,"f93fce2e",null);e.default=a.exports},"98cc":function(t,e,a){"use strict";var i=a("caef");a.n(i).a},caef:function(t,e,a){}}]);